{% extends "admin/base.html" %}

{% block content %}
<h1>Manage Events</h1>

<button onclick="document.getElementById('addModal').style.display='block'" style="padding: 0.75rem 1.5rem; background: #667eea; color: white; border: none; border-radius: 5px; cursor: pointer; margin-bottom: 1rem;">+ Add Event</button>

<div style="background: white; padding: 1.5rem; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
    <table style="width: 100%; border-collapse: collapse;">
        <thead>
            <tr style="background: #f8f9fa;">
                <th style="padding: 0.75rem; text-align: left;">Title</th>
                <th style="padding: 0.75rem; text-align: left;">Date</th>
                <th style="padding: 0.75rem; text-align: left;">Time</th>
                <th style="padding: 0.75rem; text-align: left;">Location</th>
                <th style="padding: 0.75rem; text-align: left;">Type</th>
                <th style="padding: 0.75rem; text-align: left;">Status</th>
            </tr>
        </thead>
        <tbody>
            {% for event in events %}
            <tr style="border-bottom: 1px solid #ddd;">
                <td style="padding: 0.75rem;">{{ event.title }}</td>
                <td style="padding: 0.75rem;">{{ event.event_date }}</td>
                <td style="padding: 0.75rem;">{{ event.event_time or 'TBA' }}</td>
                <td style="padding: 0.75rem;">{{ event.location or 'TBA' }}</td>
                <td style="padding: 0.75rem;">{{ event.event_type }}</td>
                <td style="padding: 0.75rem;">{{ event.status }}</td>
            </tr>
            {% else %}
            <tr><td colspan="6" style="text-align: center; padding: 2rem;">No events yet</td></tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div id="addModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000;">
    <div style="background: white; max-width: 600px; margin: 50px auto; padding: 2rem; border-radius: 10px;">
        <h2>Add New Event</h2>
        <form method="POST" action="{{ url_for('admin.add_event') }}">
            <div style="margin-bottom: 1rem;">
                <label>Title *</label>
                <input type="text" name="title" required style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 5px;">
            </div>
            <div style="margin-bottom: 1rem;">
                <label>Description</label>
                <textarea name="description" rows="3" style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 5px;"></textarea>
            </div>
            <div style="margin-bottom: 1rem;">
                <label>Date *</label>
                <input type="date" name="event_date" required style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 5px;">
            </div>
            <div style="margin-bottom: 1rem;">
                <label>Time</label>
                <input type="time" name="event_time" style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 5px;">
            </div>
            <div style="margin-bottom: 1rem;">
                <label>Location</label>
                <input type="text" name="location" style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 5px;">
            </div>
            <div style="margin-bottom: 1rem;">
                <label>Type *</label>
                <select name="event_type" required style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 5px;">
                    <option value="Workshop">Workshop</option>
                    <option value="Seminar">Seminar</option>
                    <option value="Competition">Competition</option>
                    <option value="Meeting">Meeting</option>
                    <option value="Other">Other</option>
                </select>
            </div>
            <div style="margin-bottom: 1rem;">
                <label>Status *</label>
                <select name="status" required style="width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 5px;">
                    <option value="upcoming">Upcoming</option>
                    <option value="ongoing">Ongoing</option>
                    <option value="completed">Completed</option>
                    <option value="cancelled">Cancelled</option>
                </select>
            </div>
            <div style="display: flex; gap: 1rem;">
                <button type="submit" style="flex: 1; padding: 0.75rem; background: #667eea; color: white; border: none; border-radius: 5px; cursor: pointer;">Add Event</button>
                <button type="button" onclick="document.getElementById('addModal').style.display='none'" style="flex: 1; padding: 0.75rem; background: #6c757d; color: white; border: none; border-radius: 5px; cursor: pointer;">Cancel</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
